{"abi":[{"type":"constructor","inputs":[{"name":"_oikos","type":"address","internalType":"address"},{"name":"_sOikos","type":"address","internalType":"address"},{"name":"_vault","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"OKS","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"authority","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"epoch","inputs":[],"outputs":[{"name":"number","type":"uint256","internalType":"uint256"},{"name":"end","type":"uint256","internalType":"uint256"},{"name":"distribute","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"epochs","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"number","type":"uint256","internalType":"uint256"},{"name":"end","type":"uint256","internalType":"uint256"},{"name":"distribute","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lastOperationTimestamp","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"lockInEpochs","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"notifyRewardAmount","inputs":[{"name":"_reward","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"sOKS","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IsOikosToken"}],"stateMutability":"view"},{"type":"function","name":"stake","inputs":[{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stakedBalance","inputs":[{"name":"_user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"stakedEpochs","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalEpochs","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalRewards","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalStaked","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"unstake","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"vault","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"event","name":"NotifiedReward","inputs":[{"name":"reward","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Staked","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Unstaked","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"CooldownNotElapsed","inputs":[]},{"type":"error","name":"CustomError","inputs":[]},{"type":"error","name":"InvalidParameters","inputs":[]},{"type":"error","name":"InvalidReward","inputs":[]},{"type":"error","name":"LockInPeriodNotElapsed","inputs":[]},{"type":"error","name":"NotEnoughBalance","inputs":[{"name":"currentBalance","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"OnlyVault","inputs":[]},{"type":"error","name":"SafeERC20FailedOperation","inputs":[{"name":"token","type":"address","internalType":"address"}]},{"type":"error","name":"StakingNotEnabled","inputs":[]}],"bytecode":{"object":"0x60806040526001600e5534801561001557600080fd5b50604051610e91380380610e918339810160408190526100349161014c565b600080546001600160a01b038581166001600160a01b031992831617909255600180548584169083168117909155600380549385169390921692909217905560405163189acdbd60e31b815230600482015263c4d66de890602401600060405180830381600087803b1580156100a957600080fd5b505af11580156100bd573d6000803e3d6000fd5b505060408051606081018252600180825260006020808401829052928401819052600482905560058181556006828155600a839055600980548452600790955294822083815590549281019290925592546002909101558054935091506101238361018f565b91905055505050506101b6565b80516001600160a01b038116811461014757600080fd5b919050565b60008060006060848603121561016157600080fd5b61016a84610130565b925061017860208501610130565b915061018660408501610130565b90509250925092565b6000600182016101af57634e487b7160e01b600052601160045260246000fd5b5060010190565b610ccc806101c56000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063817b1cd211610097578063c6b61e4c11610066578063c6b61e4c1461022a578063cffd1a8f14610259578063ece3529814610279578063fbfa77cf1461028257600080fd5b8063817b1cd2146101ce578063900cf0cf146101d7578063a694fc3a14610204578063bf7e214f1461021757600080fd5b80633c6b16ab116100d35780633c6b16ab14610169578063602172671461017c5780636c5ec94d146101a5578063700bb04b146101ae57600080fd5b80630ad806b7146101055780630e15561a1461013557806317face671461014c5780632def66201461015f575b600080fd5b600054610118906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61013e60085481565b60405190815260200161012c565b600154610118906001600160a01b031681565b610167610295565b005b610167610177366004610bbd565b610664565b61013e61018a366004610bd6565b6001600160a01b03166000908152600b602052604090205490565b61013e60095481565b61013e6101bc366004610bd6565b600d6020526000908152604090205481565b61013e600a5481565b6004546005546006546101e992919083565b6040805193845260208401929092529082015260600161012c565b610167610212366004610bbd565b610870565b600254610118906001600160a01b031681565b6101e9610238366004610bbd565b60076020526000908152604090208054600182015460029092015490919083565b61013e610267366004610bd6565b600c6020526000908152604090205481565b61013e600e5481565b600354610118906001600160a01b031681565b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030c9190610c06565b151560000361032e5760405163a3df9bcf60e01b815260040160405180910390fd5b600e54336000908152600d602052604090205461034b9190610c3e565b600454101561036d5760405163486b574560e11b815260040160405180910390fd5b6001546040516370a0823160e01b8152336004820152600091610451916001600160a01b03909116906370a0823190602401602060405180830381865afa1580156103bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e09190610c51565b6000546040516370a0823160e01b81523060048201526001600160a01b03909116906370a0823190602401602060405180830381865afa158015610428573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061044c9190610c51565b610adf565b90508060000361047c576040516374e0caad60e01b8152600060048201526024015b60405180910390fd5b6000546040516370a0823160e01b815230600482015282916001600160a01b0316906370a0823190602401602060405180830381865afa1580156104c4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e89190610c51565b101561050a576040516374e0caad60e01b815260048101829052602401610473565b6001546040516370a0823160e01b81523360048201526001600160a01b039091169063fcd3533c9082906370a0823190602401602060405180830381865afa15801561055a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057e9190610c51565b6040516001600160e01b031960e084901b1681526004810191909152336024820152604401600060405180830381600087803b1580156105bd57600080fd5b505af11580156105d1573d6000803e3d6000fd5b50506000546105ed92506001600160a01b031690503383610aef565b336000908152600b6020526040812054600a805491929091610610908490610c6a565b9091555050336000818152600b602052604080822091909155517f0f5bb82176feb1b5e747e28471aa92156a04d9f3ab9f45f28e2d704232b93f75906106599084815260200190565b60405180910390a250565b6003546001600160a01b0316331480159061067f5750333014155b1561069d57604051638d1af8bd60e01b815260040160405180910390fd5b60001981036106bf576040516314414f4160e11b815260040160405180910390fd5b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610712573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107369190610c06565b15156000036107585760405163a3df9bcf60e01b815260040160405180910390fd5b42600590815560098054600090815260076020526040812060045481559254600184015560065460029093019290925580549161079483610c7d565b90915550506040805160608101825260095480825260006020830181905291830182905260049081556005829055600691909155600154915163bc4f2d6d60e01b81529081018390526001600160a01b039091169063bc4f2d6d90602401600060405180830381600087803b15801561080c57600080fd5b505af1158015610820573d6000803e3d6000fd5b5050505080600860008282546108369190610c3e565b90915550506040518181527e26e7497a09565f1474bfb88ac7af039b814d7b1781a9e0a09774f56b182f519060200160405180910390a150565b8060000361089157604051630e52390960e41b815260040160405180910390fd5b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156108e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109089190610c06565b151560000361092a5760405163a3df9bcf60e01b815260040160405180910390fd5b336000908152600c6020526040902054610947906203f480610c3e565b42101561096757604051635115ba2f60e11b815260040160405180910390fd5b336000818152600c6020526040808220429055905490516323b872dd60e01b81526004810192909252306024830152604482018390526001600160a01b0316906323b872dd906064016020604051808303816000875af11580156109cf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109f39190610c06565b506001546040516340c10f1960e01b8152336004820152602481018390526001600160a01b03909116906340c10f1990604401600060405180830381600087803b158015610a4057600080fd5b505af1158015610a54573d6000803e3d6000fd5b5050336000908152600b602052604081208054859450909250610a78908490610c3e565b9250508190555080600a6000828254610a919190610c3e565b9091555050600454336000818152600d6020526040908190209290925590517f9e71bc8eea02a63969f509818f2dafb9254532904319f9dbda79b67bd34a5f3d906106599084815260200190565b8082108183180281185b92915050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b179052610b41908490610b46565b505050565b600080602060008451602086016000885af180610b69576040513d6000823e3d81fd5b50506000513d91508115610b81578060011415610b8e565b6001600160a01b0384163b155b15610bb757604051635274afe760e01b81526001600160a01b0385166004820152602401610473565b50505050565b600060208284031215610bcf57600080fd5b5035919050565b600060208284031215610be857600080fd5b81356001600160a01b0381168114610bff57600080fd5b9392505050565b600060208284031215610c1857600080fd5b81518015158114610bff57600080fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610ae957610ae9610c28565b600060208284031215610c6357600080fd5b5051919050565b81810381811115610ae957610ae9610c28565b600060018201610c8f57610c8f610c28565b506001019056fea264697066735822122040346652989965945354861a4a0e2cf0d748adf3ad511f8860038eb36d63852464736f6c63430008170033","sourceMap":"527:6478:123:-:0;;;2073:1;2043:31;;2776:487;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2881:3;:20;;-1:-1:-1;;;;;2881:20:123;;;-1:-1:-1;;;;;;2881:20:123;;;;;;;-1:-1:-1;2911:28:123;;;;;;;;;;;;;2949:5;:14;;;;;;;;;;;;;;;2982:30;;-1:-1:-1;;;2982:30:123;;3006:4;2982:30;;;725:51:150;2982:15:123;;698:18:150;;2982:30:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3083:87:123;;;;;;;;3111:1;3083:87;;;-1:-1:-1;3083:87:123;;;;;;;;;;;;;3075:5;:95;;;;;;;;;;;3181:11;:15;;;3213:11;;;3206:19;;:6;:19;;;;;;:27;;;;;;;;;;;;;;3075:95;3206:27;;;;3243:13;;;-1:-1:-1;3213:11:123;-1:-1:-1;3243:13:123;;;:::i;:::-;;;;;;2776:487;;;527:6478;;14:177:150;93:13;;-1:-1:-1;;;;;135:31:150;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;787:232::-;826:3;847:17;;;844:140;;906:10;901:3;897:20;894:1;887:31;941:4;938:1;931:15;969:4;966:1;959:15;844:140;-1:-1:-1;1011:1:150;1000:13;;787:232::o;:::-;527:6478:123;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106101005760003560e01c8063817b1cd211610097578063c6b61e4c11610066578063c6b61e4c1461022a578063cffd1a8f14610259578063ece3529814610279578063fbfa77cf1461028257600080fd5b8063817b1cd2146101ce578063900cf0cf146101d7578063a694fc3a14610204578063bf7e214f1461021757600080fd5b80633c6b16ab116100d35780633c6b16ab14610169578063602172671461017c5780636c5ec94d146101a5578063700bb04b146101ae57600080fd5b80630ad806b7146101055780630e15561a1461013557806317face671461014c5780632def66201461015f575b600080fd5b600054610118906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61013e60085481565b60405190815260200161012c565b600154610118906001600160a01b031681565b610167610295565b005b610167610177366004610bbd565b610664565b61013e61018a366004610bd6565b6001600160a01b03166000908152600b602052604090205490565b61013e60095481565b61013e6101bc366004610bd6565b600d6020526000908152604090205481565b61013e600a5481565b6004546005546006546101e992919083565b6040805193845260208401929092529082015260600161012c565b610167610212366004610bbd565b610870565b600254610118906001600160a01b031681565b6101e9610238366004610bbd565b60076020526000908152604090208054600182015460029092015490919083565b61013e610267366004610bd6565b600c6020526000908152604090205481565b61013e600e5481565b600354610118906001600160a01b031681565b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030c9190610c06565b151560000361032e5760405163a3df9bcf60e01b815260040160405180910390fd5b600e54336000908152600d602052604090205461034b9190610c3e565b600454101561036d5760405163486b574560e11b815260040160405180910390fd5b6001546040516370a0823160e01b8152336004820152600091610451916001600160a01b03909116906370a0823190602401602060405180830381865afa1580156103bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e09190610c51565b6000546040516370a0823160e01b81523060048201526001600160a01b03909116906370a0823190602401602060405180830381865afa158015610428573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061044c9190610c51565b610adf565b90508060000361047c576040516374e0caad60e01b8152600060048201526024015b60405180910390fd5b6000546040516370a0823160e01b815230600482015282916001600160a01b0316906370a0823190602401602060405180830381865afa1580156104c4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e89190610c51565b101561050a576040516374e0caad60e01b815260048101829052602401610473565b6001546040516370a0823160e01b81523360048201526001600160a01b039091169063fcd3533c9082906370a0823190602401602060405180830381865afa15801561055a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057e9190610c51565b6040516001600160e01b031960e084901b1681526004810191909152336024820152604401600060405180830381600087803b1580156105bd57600080fd5b505af11580156105d1573d6000803e3d6000fd5b50506000546105ed92506001600160a01b031690503383610aef565b336000908152600b6020526040812054600a805491929091610610908490610c6a565b9091555050336000818152600b602052604080822091909155517f0f5bb82176feb1b5e747e28471aa92156a04d9f3ab9f45f28e2d704232b93f75906106599084815260200190565b60405180910390a250565b6003546001600160a01b0316331480159061067f5750333014155b1561069d57604051638d1af8bd60e01b815260040160405180910390fd5b60001981036106bf576040516314414f4160e11b815260040160405180910390fd5b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610712573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107369190610c06565b15156000036107585760405163a3df9bcf60e01b815260040160405180910390fd5b42600590815560098054600090815260076020526040812060045481559254600184015560065460029093019290925580549161079483610c7d565b90915550506040805160608101825260095480825260006020830181905291830182905260049081556005829055600691909155600154915163bc4f2d6d60e01b81529081018390526001600160a01b039091169063bc4f2d6d90602401600060405180830381600087803b15801561080c57600080fd5b505af1158015610820573d6000803e3d6000fd5b5050505080600860008282546108369190610c3e565b90915550506040518181527e26e7497a09565f1474bfb88ac7af039b814d7b1781a9e0a09774f56b182f519060200160405180910390a150565b8060000361089157604051630e52390960e41b815260040160405180910390fd5b600360009054906101000a90046001600160a01b03166001600160a01b0316631cfff51b6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156108e4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109089190610c06565b151560000361092a5760405163a3df9bcf60e01b815260040160405180910390fd5b336000908152600c6020526040902054610947906203f480610c3e565b42101561096757604051635115ba2f60e11b815260040160405180910390fd5b336000818152600c6020526040808220429055905490516323b872dd60e01b81526004810192909252306024830152604482018390526001600160a01b0316906323b872dd906064016020604051808303816000875af11580156109cf573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109f39190610c06565b506001546040516340c10f1960e01b8152336004820152602481018390526001600160a01b03909116906340c10f1990604401600060405180830381600087803b158015610a4057600080fd5b505af1158015610a54573d6000803e3d6000fd5b5050336000908152600b602052604081208054859450909250610a78908490610c3e565b9250508190555080600a6000828254610a919190610c3e565b9091555050600454336000818152600d6020526040908190209290925590517f9e71bc8eea02a63969f509818f2dafb9254532904319f9dbda79b67bd34a5f3d906106599084815260200190565b8082108183180281185b92915050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b179052610b41908490610b46565b505050565b600080602060008451602086016000885af180610b69576040513d6000823e3d81fd5b50506000513d91508115610b81578060011415610b8e565b6001600160a01b0384163b155b15610bb757604051635274afe760e01b81526001600160a01b0385166004820152602401610473565b50505050565b600060208284031215610bcf57600080fd5b5035919050565b600060208284031215610be857600080fd5b81356001600160a01b0381168114610bff57600080fd5b9392505050565b600060208284031215610c1857600080fd5b81518015158114610bff57600080fd5b634e487b7160e01b600052601160045260246000fd5b80820180821115610ae957610ae9610c28565b600060208284031215610c6357600080fd5b5051919050565b81810381811115610ae957610ae9610c28565b600060018201610c8f57610c8f610c28565b506001019056fea264697066735822122040346652989965945354861a4a0e2cf0d748adf3ad511f8860038eb36d63852464736f6c63430008170033","sourceMap":"527:6478:123:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1039:17;;;;;-1:-1:-1;;;;;1039:17:123;;;;;;-1:-1:-1;;;;;194:32:150;;;176:51;;164:2;149:18;1039:17:123;;;;;;;;1445:27;;;;;;;;;384:25:150;;;372:2;357:18;1445:27:123;238:177:150;1089:24:123;;;;;-1:-1:-1;;;;;1089:24:123;;;4539:867;;;:::i;:::-;;5571:882;;;;;;:::i;:::-;;:::i;6639:115::-;;;;;;:::i;:::-;-1:-1:-1;;;;;6726:21:123;6700:7;6726:21;;;:14;:21;;;;;;;6639:115;1508:26;;;;;;1933:47;;;;;;:::i;:::-;;;;;;;;;;;;;;1567:26;;;;;;1302:18;;;;;;;;;;;;;;;;;1328:25:150;;;1384:2;1369:18;;1362:34;;;;1412:18;;;1405:34;1316:2;1301:18;1302::123;1126:319:150;3389:1072:123;;;;;;:::i;:::-;;:::i;1158:24::-;;;;;-1:-1:-1;;;;;1158:24:123;;;1349:39;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;1803:57;;;;;;:::i;:::-;;;;;;;;;;;;;;2043:31;;;;;;1237:20;;;;;-1:-1:-1;;;;;1237:20:123;;;4539:867;4588:5;;;;;;;;;-1:-1:-1;;;;;4588:5:123;-1:-1:-1;;;;;4581:28:123;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:39;;4615:5;4581:39;4577:96;;4643:19;;-1:-1:-1;;;4643:19:123;;;;;;;;;;;4577:96;4800:12;;4786:10;4773:24;;;;:12;:24;;;;;;:39;;4800:12;4773:39;:::i;:::-;4758:5;:12;:54;4754:116;;;4835:24;;-1:-1:-1;;;4835:24:123;;;;;;;;;;;4754:116;4907:4;;:26;;-1:-1:-1;;;4907:26:123;;4922:10;4907:26;;;176:51:150;4880:15:123;;4898:66;;-1:-1:-1;;;;;4907:4:123;;;;:14;;149:18:150;;4907:26:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4935:3;;:28;;-1:-1:-1;;;4935:28:123;;4957:4;4935:28;;;176:51:150;-1:-1:-1;;;;;4935:3:123;;;;:13;;149:18:150;;4935:28:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4898:8;:66::i;:::-;4880:84;;4979:7;4990:1;4979:12;4975:69;;5014:19;;-1:-1:-1;;;5014:19:123;;5031:1;5014:19;;;384:25:150;357:18;;5014:19:123;;;;;;;;4975:69;5058:3;;:28;;-1:-1:-1;;;5058:28:123;;5080:4;5058:28;;;176:51:150;5089:7:123;;-1:-1:-1;;;;;5058:3:123;;:13;;149:18:150;;5058:28:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:38;5054:102;;;5119:25;;-1:-1:-1;;;5119:25:123;;;;;384::150;;;357:18;;5119:25:123;238:177:150;5054:102:123;5166:4;;5176:26;;-1:-1:-1;;;5176:26:123;;5191:10;5176:26;;;176:51:150;-1:-1:-1;;;;;5166:4:123;;;;:9;;:4;;5176:14;;149:18:150;;5176:26:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5166:49;;-1:-1:-1;;;;;;5166:49:123;;;;;;;;;;2755:25:150;;;;5204:10:123;2796:18:150;;;2789:60;2728:18;;5166:49:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;5225:3:123;;:37;;-1:-1:-1;;;;;;5225:3:123;;-1:-1:-1;5242:10:123;5254:7;5225:16;:37::i;:::-;5303:10;5288:26;;;;:14;:26;;;;;;5273:11;:41;;5288:26;;5273:11;;:41;;5288:26;;5273:41;:::i;:::-;;;;-1:-1:-1;;5339:10:123;5353:1;5324:26;;;:14;:26;;;;;;:30;;;;5370:29;;;;;5391:7;384:25:150;;372:2;357:18;;238:177;5370:29:123;;;;;;;;4567:839;4539:867::o;5571:882::-;6905:5;;-1:-1:-1;;;;;6905:5:123;6891:10;:19;;;;:50;;-1:-1:-1;6914:10:123;6936:4;6914:27;;6891:50;6887:99;;;6964:11;;-1:-1:-1;;;6964:11:123;;;;;;;;;;;6887:99;-1:-1:-1;;5647:7:123::1;:28:::0;5643:81:::1;;5698:15;;-1:-1:-1::0;;;5698:15:123::1;;;;;;;;;;;5643:81;5745:5;;;;;;;;;-1:-1:-1::0;;;;;5745:5:123::1;-1:-1:-1::0;;;;;5738:28:123::1;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:39;;5772:5;5738:39:::0;5734:96:::1;;5800:19;;-1:-1:-1::0;;;5800:19:123::1;;;;;;;;;;;5734:96;5889:15;5877:9:::0;:27;;;5921:11:::1;::::0;;5914:19:::1;::::0;;;:6:::1;:19;::::0;;;;5877:5:::1;5914:27:::0;;;;;5877:9:::1;5914:27:::0;::::1;::::0;;;::::1;::::0;;::::1;::::0;;;;6013:13;;;::::1;::::0;::::1;:::i;:::-;::::0;;;-1:-1:-1;;6198:97:123::1;::::0;;::::1;::::0;::::1;::::0;;6226:11:::1;::::0;6198:97;;;-1:-1:-1;6198:97:123::1;::::0;::::1;::::0;;;;;;;;;6096:5:::1;6190:105:::0;;;-1:-1:-1;6190:105:123;;;6096:16;6190:105;;;;::::1;6354:4:::0;:20;;-1:-1:-1;;;6354:20:123;;;;::::1;384:25:150::0;;;-1:-1:-1;;;;;6354:4:123;;::::1;::::0;:11:::1;::::0;357:18:150;;6354:20:123::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;6400:7;6384:12;;:23;;;;;;;:::i;:::-;::::0;;;-1:-1:-1;;6423:23:123::1;::::0;384:25:150;;;6423:23:123::1;::::0;372:2:150;357:18;6423:23:123::1;;;;;;;5571:882:::0;:::o;3389:1072::-;3442:7;3453:1;3442:12;3438:69;;3477:19;;-1:-1:-1;;;3477:19:123;;;;;;;;;;;3438:69;3528:5;;;;;;;;;-1:-1:-1;;;;;3528:5:123;-1:-1:-1;;;;;3521:28:123;;:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:39;;3555:5;3521:39;3517:96;;3583:19;;-1:-1:-1;;;3583:19:123;;;;;;;;;;;3517:96;3759:10;3736:34;;;;:22;:34;;;;;;:43;;3773:6;3736:43;:::i;:::-;3718:15;:61;3714:119;;;3802:20;;-1:-1:-1;;;3802:20:123;;;;;;;;;;;3714:119;3934:10;3911:34;;;;:22;:34;;;;;;3948:15;3911:52;;4051:3;;:52;;-1:-1:-1;;;4051:52:123;;;;;3373:34:150;;;;4088:4:123;3423:18:150;;;3416:43;3475:18;;;3468:34;;;-1:-1:-1;;;;;4051:3:123;;:16;;3308:18:150;;4051:52:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;4165:4:123;;:30;;-1:-1:-1;;;4165:30:123;;4175:10;4165:30;;;3687:51:150;3754:18;;;3747:34;;;-1:-1:-1;;;;;4165:4:123;;;;:9;;3660:18:150;;4165:30:123;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;4308:10:123;4293:26;;;;:14;:26;;;;;:37;;4323:7;;-1:-1:-1;4293:26:123;;-1:-1:-1;4293:37:123;;4323:7;;4293:37;:::i;:::-;;;;;;;;4355:7;4340:11;;:22;;;;;;;:::i;:::-;;;;-1:-1:-1;;4399:5:123;:12;4385:10;4399:12;4372:24;;;:12;:24;;;;;;;:39;;;;4427:27;;;;;;4446:7;384:25:150;;372:2;357:18;;238:177;3371:111:52;3463:5;;;3066;;;3065:36;3060:42;;3371:111;;;;;:::o;1271:160:40:-;1380:43;;;-1:-1:-1;;;;;3705:32:150;;1380:43:40;;;3687:51:150;3754:18;;;;3747:34;;;1380:43:40;;;;;;;;;;3660:18:150;;;;1380:43:40;;;;;;;;-1:-1:-1;;;;;1380:43:40;-1:-1:-1;;;1380:43:40;;;1353:71;;1373:5;;1353:19;:71::i;:::-;1271:160;;;:::o;7738:720::-;7818:18;7846:19;7984:4;7981:1;7974:4;7968:11;7961:4;7955;7951:15;7948:1;7941:5;7934;7929:60;8041:7;8031:176;;8085:4;8079:11;8130:16;8127:1;8122:3;8107:40;8176:16;8171:3;8164:29;8031:176;-1:-1:-1;;8284:1:40;8278:8;8234:16;;-1:-1:-1;8310:15:40;;:68;;8362:11;8377:1;8362:16;;8310:68;;;-1:-1:-1;;;;;8328:26:40;;;:31;8310:68;8306:146;;;8401:40;;-1:-1:-1;;;8401:40:40;;-1:-1:-1;;;;;194:32:150;;8401:40:40;;;176:51:150;149:18;;8401:40:40;14:219:150;8306:146:40;7808:650;;7738:720;;:::o;650:180:150:-;709:6;762:2;750:9;741:7;737:23;733:32;730:52;;;778:1;775;768:12;730:52;-1:-1:-1;801:23:150;;650:180;-1:-1:-1;650:180:150:o;835:286::-;894:6;947:2;935:9;926:7;922:23;918:32;915:52;;;963:1;960;953:12;915:52;989:23;;-1:-1:-1;;;;;1041:31:150;;1031:42;;1021:70;;1087:1;1084;1077:12;1021:70;1110:5;835:286;-1:-1:-1;;;835:286:150:o;1658:277::-;1725:6;1778:2;1766:9;1757:7;1753:23;1749:32;1746:52;;;1794:1;1791;1784:12;1746:52;1826:9;1820:16;1879:5;1872:13;1865:21;1858:5;1855:32;1845:60;;1901:1;1898;1891:12;1940:127;2001:10;1996:3;1992:20;1989:1;1982:31;2032:4;2029:1;2022:15;2056:4;2053:1;2046:15;2072:125;2137:9;;;2158:10;;;2155:36;;;2171:18;;:::i;2202:184::-;2272:6;2325:2;2313:9;2304:7;2300:23;2296:32;2293:52;;;2341:1;2338;2331:12;2293:52;-1:-1:-1;2364:16:150;;2202:184;-1:-1:-1;2202:184:150:o;2860:128::-;2927:9;;;2948:11;;;2945:37;;;2962:18;;:::i;2993:135::-;3032:3;3053:17;;;3050:43;;3073:18;;:::i;:::-;-1:-1:-1;3120:1:150;3109:13;;2993:135::o","linkReferences":{}},"methodIdentifiers":{"OKS()":"0ad806b7","authority()":"bf7e214f","epoch()":"900cf0cf","epochs(uint256)":"c6b61e4c","lastOperationTimestamp(address)":"cffd1a8f","lockInEpochs()":"ece35298","notifyRewardAmount(uint256)":"3c6b16ab","sOKS()":"17face67","stake(uint256)":"a694fc3a","stakedBalance(address)":"60217267","stakedEpochs(address)":"700bb04b","totalEpochs()":"6c5ec94d","totalRewards()":"0e15561a","totalStaked()":"817b1cd2","unstake()":"2def6620","vault()":"fbfa77cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_oikos\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_sOikos\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_vault\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"CooldownNotElapsed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CustomError\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidParameters\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReward\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"LockInPeriodNotElapsed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentBalance\",\"type\":\"uint256\"}],\"name\":\"NotEnoughBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OnlyVault\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"SafeERC20FailedOperation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StakingNotEnabled\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"NotifiedReward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Staked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Unstaked\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"OKS\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"authority\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"epoch\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"number\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"distribute\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"epochs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"number\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"end\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"distribute\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"lastOperationTimestamp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockInEpochs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_reward\",\"type\":\"uint256\"}],\"name\":\"notifyRewardAmount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"sOKS\",\"outputs\":[{\"internalType\":\"contract IsOikosToken\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"stakedBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"stakedEpochs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalEpochs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalStaked\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"unstake\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vault\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"SafeERC20FailedOperation(address)\":[{\"details\":\"An operation with an ERC-20 token failed.\"}]},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_oikos\":\"The address of the OKS token.\",\"_sOikos\":\"The address of the staked OKS token.\",\"_vault\":\"The address of the vault contract.\"}},\"notifyRewardAmount(uint256)\":{\"params\":{\"_reward\":\"The amount of rewards to distribute.\"}},\"stake(uint256)\":{\"params\":{\"_amount\":\"The amount of OKS tokens to stake.\"}},\"stakedBalance(address)\":{\"params\":{\"_user\":\"The address of the staker.\"},\"returns\":{\"_0\":\"The originally staked amount of OKS.\"}}},\"title\":\"Staking\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"Constructor to initialize the Staking contract.\"},\"notifyRewardAmount(uint256)\":{\"notice\":\"Notifies the contract of a new reward amount and starts a new epoch.\"},\"stake(uint256)\":{\"notice\":\"Allows a user to stake OKS tokens.\"},\"stakedBalance(address)\":{\"notice\":\"Returns the originally staked amount of OKS for a user.\"},\"unstake()\":{\"notice\":\"Allows a user to unstake their OKS tokens.\"}},\"notice\":\"A contract for staking OKS tokens and earning rewards.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/staking/Staking.sol\":\"Staking\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":abdk/=lib/abdk-libraries-solidity/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\",\":solmate/=lib/solmate/src/\",\":v3-core/=lib/v3-core/contracts/\",\":v3-periphery/=lib/v3-periphery/contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol\":{\"keccak256\":\"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b\",\"dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol\":{\"keccak256\":\"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a\",\"dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC1967.sol\":{\"keccak256\":\"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d\",\"dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7\"]},\"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol\":{\"keccak256\":\"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba\",\"dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1\"]},\"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Proxy.sol\":{\"keccak256\":\"0x0a8a5b994d4c4da9f61d128945cc8c9e60dcbc72bf532f72ae42a48ea90eed9a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e63ae15b6b1079b9d3c73913424d4278139f9e9c9658316675b9c48d5883a50d\",\"dweb:/ipfs/QmWLxBYfp8j1YjNMabWgv75ELTaK2eEYEEGx7qsJbxVZZq\"]},\"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Utils.sol\":{\"keccak256\":\"0x911c3346ee26afe188f3b9dc267ef62a7ccf940aba1afa963e3922f0ca3d8a06\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://04539f4419e44a831807d7203375d2bc6a733da256efd02e51290f5d5015218c\",\"dweb:/ipfs/QmPZ97gsAAgaMRPiE2WJfkzRsudQnW5tPAvMgGj1jcTJtR\"]},\"lib/openzeppelin-contracts/contracts/proxy/Proxy.sol\":{\"keccak256\":\"0xc3f2ec76a3de8ed7a7007c46166f5550c72c7709e3fc7e8bb3111a7191cdedbd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e73efb4c2ca655882dc237c6b4f234a9bd36d97159d8fcaa837eb01171f726ac\",\"dweb:/ipfs/QmTNnnv7Gu5fs5G1ZMh7Fexp8N4XUs3XrNAngjcxgiss3e\"]},\"lib/openzeppelin-contracts/contracts/proxy/beacon/IBeacon.sol\":{\"keccak256\":\"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa\",\"dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db\",\"dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0xca2ae13e0610f6a99238dd00b97bd786bc92732dae6d6b9d61f573ec51018310\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://75f8c71ce0c91c40dd5f249ace0b7d8270f8f1767231bcf71490f7157d6ba862\",\"dweb:/ipfs/QmYXgxeDyFHvz3JsXxLEYN6GNUR44ThHeFj5XkpkgMoG4w\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0x9d8da059267bac779a2dbbb9a26c2acf00ca83085e105d62d5d4ef96054a47f5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c78e2aa4313323cecd1ef12a8d6265b96beee1a199923abf55d9a2a9e291ad23\",\"dweb:/ipfs/QmUTs2KStXucZezzFo3EYeqYu47utu56qrF7jj1Gue65vb\"]},\"lib/openzeppelin-contracts/contracts/utils/Errors.sol\":{\"keccak256\":\"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf\",\"dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB\"]},\"lib/openzeppelin-contracts/contracts/utils/Panic.sol\":{\"keccak256\":\"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a\",\"dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621\",\"dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL\"]},\"lib/openzeppelin-contracts/contracts/utils/math/Math.sol\":{\"keccak256\":\"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d\",\"dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1\"]},\"lib/openzeppelin-contracts/contracts/utils/math/SafeCast.sol\":{\"keccak256\":\"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8\",\"dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy\"]},\"lib/v3-core/contracts/interfaces/IUniswapV3Pool.sol\":{\"keccak256\":\"0xfe6113d518466cd6652c85b111e01f33eb62157f49ae5ed7d5a3947a2044adb1\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://1c42b9e6f5902ac38dd43e25750939baa7e0c1425dc75afd717c4412731065d5\",\"dweb:/ipfs/QmWaoacnzsucTvBME2o7YgZBZMhaHv7fkj83htHMVWJKWh\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolActions.sol\":{\"keccak256\":\"0x9453dd0e7442188667d01d9b65de3f1e14e9511ff3e303179a15f6fc267f7634\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://982f4328f956c3e60e67501e759eb292ac487f76460c774c50e9ae4fcc92aae5\",\"dweb:/ipfs/QmRnzEDsaqtd9PJEVcgQi7p5aV5pMSvRUoGZJAdwFUJxgZ\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolDerivedState.sol\":{\"keccak256\":\"0xe603ac5b17ecdee73ba2b27efdf386c257a19c14206e87eee77e2017b742d9e5\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://8febc9bdb399a4d94bb89f5377732652e2400e4a8dee808201ade6848f9004e7\",\"dweb:/ipfs/QmaKDqYYFU4d2W2iN77aDHptfbFmYZRrMYXHeGpJmM8C1c\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolEvents.sol\":{\"keccak256\":\"0x8071514d0fe5d17d6fbd31c191cdfb703031c24e0ece3621d88ab10e871375cd\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://d0b571930cc7488b1d546a7e9cea7c52d8b3c4e207da657ed0e0db7343b8cd03\",\"dweb:/ipfs/QmaGK6vVwB95QSTR1XMYvrh7ivYAYZxi3fD7v6VMA4jZ39\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolImmutables.sol\":{\"keccak256\":\"0xf6e5d2cd1139c4c276bdbc8e1d2b256e456c866a91f1b868da265c6d2685c3f7\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://b99c8c9ae8e27ee6559e5866bea82cbc9ffc8247f8d15b7422a4deb287d4d047\",\"dweb:/ipfs/QmfL8gaqt3ffAnm6nVj5ksuNpLygXuL3xq5VBqrkwC2JJ3\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolOwnerActions.sol\":{\"keccak256\":\"0x759b78a2918af9e99e246dc3af084f654e48ef32bb4e4cb8a966aa3dcaece235\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://64144fb96e1c7fdba87305acadb98a198d26a3d46c097cb3a666e567f6f29735\",\"dweb:/ipfs/QmUnWVwN9FKB9uV5Pr8YfLpWZnYM2DENnRMaadZ492JS9u\"]},\"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolState.sol\":{\"keccak256\":\"0x852dc1f5df7dcf7f11e7bb3eed79f0cea72ad4b25f6a9d2c35aafb48925fd49f\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://ed63907c38ff36b0e22bc9ffc53e791ea74f0d4f0e7c257fdfb5aaf8825b1f0f\",\"dweb:/ipfs/QmSQrckghEjs6HVsA5GVgpNpZWvTXMY5eQLF7cN6deFeEg\"]},\"lib/v3-core/contracts/libraries/FullMath.sol\":{\"keccak256\":\"0xd95005828f1739c584c77c107fe2c747461cb8dff9fe264f7b3c20eca6cdf029\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://fad0f57a47c5e0210e84c1afce71708e7969bf840c5967a627575124960bb8ce\",\"dweb:/ipfs/QmYyJkVPTuYv7BhiwKudjUwG91qoGyyNh5NzjvNbQgJuXM\"]},\"lib/v3-core/contracts/libraries/TickMath.sol\":{\"keccak256\":\"0xa45083d9403f87e879dbf03219f7f31c0e2b524a584a682af1ac9e7928616aac\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://25f156571bca8df006a61a2926b0ef13e6bea42b71d9f5c86d6f4350a8726f7a\",\"dweb:/ipfs/QmRxi8a5vbhkXVEizucLgHYbPWaHVgQTydJRJmp9bHbbGC\"]},\"src/interfaces/IAddressResolver.sol\":{\"keccak256\":\"0xaec2d907929030bdf85eec44cbab9a4a7416777a92698b44cfcd24d6c5f36182\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dd5dab5f45593f59a07cb08576ebc384e21617c549aeb1d0a49ce2427514a8c2\",\"dweb:/ipfs/QmeBYC1HN4X3hkTHZufXWe5vq3dTP5x5EiGeZDE4gXF9zE\"]},\"src/interfaces/IVault.sol\":{\"keccak256\":\"0x6e445b7d9fcad0c1848c40aa7394d5f63c156c8210199140cf3c6f6384861142\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1d58c4b0b7e7ea03fbc56a8a3384249b2e77a7bda6cf449e013641d5e050371f\",\"dweb:/ipfs/QmQ7uCCtXha7UJHXpTCpFFp2CLwnt2d1Qpudj1toGbfpDG\"]},\"src/interfaces/IsOikosToken.sol\":{\"keccak256\":\"0x6adc9224c5a768d6fe575fa68b10182c2933aa01eaf289d6e4a9401b53e6ce3e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f578f8b44a65c9e4847b11fd0c99346b36c772e6faeb79c9b806ff4d94928001\",\"dweb:/ipfs/Qmdi3eLFjebPTQzUFug2pGKo9TPab93DAKaQHE74SSZfLp\"]},\"src/libraries/Conversions.sol\":{\"keccak256\":\"0xb5fc027f50b8aa3da3afd6c062429d2d024bfafa63e5bdf6073ba89d40b1d481\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://882fb58ec799ede30742c2196ec0b83cd49b6d0debcc5c042d72178ee2993329\",\"dweb:/ipfs/QmNV2iZMJmTbDY5s2sMiV3A7eon9BVrxDFDnJtosUae9Yk\"]},\"src/libraries/Logarithm.sol\":{\"keccak256\":\"0xf9d72c21392110316a61970690943ed9bfcaadc3ac29cafb8b7b31fc5f4d5f99\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://661c1db4d9a70257d6baf3c34810445023e3df2bf6a9be7888ba79f1d056e010\",\"dweb:/ipfs/QmQuk8RZ7uiYYA978pjZVVXBsZm2PneVCA6B35fpDNUEtq\"]},\"src/libraries/Utils.sol\":{\"keccak256\":\"0x47e7c4eba21820d2c346f9f34e7082ab168f4307dc579d9c60cce873f6de101e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://999a1ba13d77e748abe363bda619136d85d7a5ba60e3aa1a8b35ca5b2d6be598\",\"dweb:/ipfs/QmafCWV9UE4zUKvFN5NKxgiJ6Ekp1Wjxcm8WJaG3wMUmsi\"]},\"src/staking/Staking.sol\":{\"keccak256\":\"0x07e915ebe07801682596e0f8a3754e8f64a1d1078cdc114d58fe18e02317bf1e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1836f1b50376e9c0ced31f07e1e817fb350e12abaa3c47f0eda41528e71858eb\",\"dweb:/ipfs/QmW7PUKhD3vhJP2Hxi5mrHbj3vujDLbvGUoJnjfo8sEAAq\"]},\"src/types/Types.sol\":{\"keccak256\":\"0xc6124e9b95575085ad8cd7d24ba0ce1794b7885557108a5fd96757c3739ef27a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://7fbbaf092bdb76b72f7e17a9a8eeeb99848def61a5970ee5e5a79fe81800c35b\",\"dweb:/ipfs/QmdWnhKqwfGWomrdyX6rasfJvcMqZrsN1FaBvtr1qhHUqe\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_oikos","type":"address"},{"internalType":"address","name":"_sOikos","type":"address"},{"internalType":"address","name":"_vault","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"CooldownNotElapsed"},{"inputs":[],"type":"error","name":"CustomError"},{"inputs":[],"type":"error","name":"InvalidParameters"},{"inputs":[],"type":"error","name":"InvalidReward"},{"inputs":[],"type":"error","name":"LockInPeriodNotElapsed"},{"inputs":[{"internalType":"uint256","name":"currentBalance","type":"uint256"}],"type":"error","name":"NotEnoughBalance"},{"inputs":[],"type":"error","name":"OnlyVault"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"type":"error","name":"SafeERC20FailedOperation"},{"inputs":[],"type":"error","name":"StakingNotEnabled"},{"inputs":[{"internalType":"uint256","name":"reward","type":"uint256","indexed":false}],"type":"event","name":"NotifiedReward","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Staked","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Unstaked","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"OKS","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"authority","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"epoch","outputs":[{"internalType":"uint256","name":"number","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"distribute","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"epochs","outputs":[{"internalType":"uint256","name":"number","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"distribute","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"lastOperationTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lockInEpochs","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_reward","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"notifyRewardAmount"},{"inputs":[],"stateMutability":"view","type":"function","name":"sOKS","outputs":[{"internalType":"contract IsOikosToken","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"stake"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"stateMutability":"view","type":"function","name":"stakedBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"stakedEpochs","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalEpochs","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unstake"},{"inputs":[],"stateMutability":"view","type":"function","name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_oikos":"The address of the OKS token.","_sOikos":"The address of the staked OKS token.","_vault":"The address of the vault contract."}},"notifyRewardAmount(uint256)":{"params":{"_reward":"The amount of rewards to distribute."}},"stake(uint256)":{"params":{"_amount":"The amount of OKS tokens to stake."}},"stakedBalance(address)":{"params":{"_user":"The address of the staker."},"returns":{"_0":"The originally staked amount of OKS."}}},"version":1},"userdoc":{"kind":"user","methods":{"constructor":{"notice":"Constructor to initialize the Staking contract."},"notifyRewardAmount(uint256)":{"notice":"Notifies the contract of a new reward amount and starts a new epoch."},"stake(uint256)":{"notice":"Allows a user to stake OKS tokens."},"stakedBalance(address)":{"notice":"Returns the originally staked amount of OKS for a user."},"unstake()":{"notice":"Allows a user to unstake their OKS tokens."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","abdk/=lib/abdk-libraries-solidity/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","solidity-stringutils/=lib/solidity-stringutils/","solmate/=lib/solmate/src/","v3-core/=lib/v3-core/contracts/","v3-periphery/=lib/v3-periphery/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/staking/Staking.sol":"Staking"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/interfaces/IERC1363.sol":{"keccak256":"0x9b6b3e7803bc5f2f8cd7ad57db8ac1def61a9930a5a3107df4882e028a9605d7","urls":["bzz-raw://da62d6be1f5c6edf577f0cb45666a8aa9c2086a4bac87d95d65f02e2f4c36a4b","dweb:/ipfs/QmNkpvBpoCMvX8JwAFNSc5XxJ2q5BXJpL5L1txb4QkqVFF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC165.sol":{"keccak256":"0xde7e9fd9aee8d4f40772f96bb3b58836cbc6dfc0227014a061947f8821ea9724","urls":["bzz-raw://11fea9f8bc98949ac6709f0c1699db7430d2948137aa94d5a9e95a91f61a710a","dweb:/ipfs/QmQdfRXxQjwP6yn3DVo1GHPpriKNcFghSPi94Z1oKEFUNS"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC1967.sol":{"keccak256":"0xb25a4f11fa80c702bf5cd85adec90e6f6f507f32f4a8e6f5dbc31e8c10029486","urls":["bzz-raw://6917f8a323e7811f041aecd4d9fd6e92455a6fba38a797ac6f6e208c7912b79d","dweb:/ipfs/QmShuYv55wYHGi4EFkDB8QfF7ZCHoKk2efyz3AWY1ExSq7"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/interfaces/IERC20.sol":{"keccak256":"0xce41876e78d1badc0512229b4d14e4daf83bc1003d7f83978d18e0e56f965b9c","urls":["bzz-raw://a2608291cb038b388d80b79a06b6118a42f7894ff67b7da10ec0dbbf5b2973ba","dweb:/ipfs/QmWohqcBLbcxmA4eGPhZDXe5RYMMEEpFq22nfkaUMvTfw1"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Proxy.sol":{"keccak256":"0x0a8a5b994d4c4da9f61d128945cc8c9e60dcbc72bf532f72ae42a48ea90eed9a","urls":["bzz-raw://e63ae15b6b1079b9d3c73913424d4278139f9e9c9658316675b9c48d5883a50d","dweb:/ipfs/QmWLxBYfp8j1YjNMabWgv75ELTaK2eEYEEGx7qsJbxVZZq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Utils.sol":{"keccak256":"0x911c3346ee26afe188f3b9dc267ef62a7ccf940aba1afa963e3922f0ca3d8a06","urls":["bzz-raw://04539f4419e44a831807d7203375d2bc6a733da256efd02e51290f5d5015218c","dweb:/ipfs/QmPZ97gsAAgaMRPiE2WJfkzRsudQnW5tPAvMgGj1jcTJtR"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/Proxy.sol":{"keccak256":"0xc3f2ec76a3de8ed7a7007c46166f5550c72c7709e3fc7e8bb3111a7191cdedbd","urls":["bzz-raw://e73efb4c2ca655882dc237c6b4f234a9bd36d97159d8fcaa837eb01171f726ac","dweb:/ipfs/QmTNnnv7Gu5fs5G1ZMh7Fexp8N4XUs3XrNAngjcxgiss3e"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/proxy/beacon/IBeacon.sol":{"keccak256":"0xc59a78b07b44b2cf2e8ab4175fca91e8eca1eee2df7357b8d2a8833e5ea1f64c","urls":["bzz-raw://5aa4f07e65444784c29cd7bfcc2341b34381e4e5b5da9f0c5bd00d7f430e66fa","dweb:/ipfs/QmWRMh4Q9DpaU9GvsiXmDdoNYMyyece9if7hnfLz7uqzWM"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xe06a3f08a987af6ad2e1c1e774405d4fe08f1694b67517438b467cecf0da0ef7","urls":["bzz-raw://df6f0c459663c9858b6cba2cda1d14a7d05a985bed6d2de72bd8e78c25ee79db","dweb:/ipfs/QmeTTxZ7qVk9rjEv2R4CpCwdf8UMCcRqDNMvzNxHc3Fnn9"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0xca2ae13e0610f6a99238dd00b97bd786bc92732dae6d6b9d61f573ec51018310","urls":["bzz-raw://75f8c71ce0c91c40dd5f249ace0b7d8270f8f1767231bcf71490f7157d6ba862","dweb:/ipfs/QmYXgxeDyFHvz3JsXxLEYN6GNUR44ThHeFj5XkpkgMoG4w"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Address.sol":{"keccak256":"0x9d8da059267bac779a2dbbb9a26c2acf00ca83085e105d62d5d4ef96054a47f5","urls":["bzz-raw://c78e2aa4313323cecd1ef12a8d6265b96beee1a199923abf55d9a2a9e291ad23","dweb:/ipfs/QmUTs2KStXucZezzFo3EYeqYu47utu56qrF7jj1Gue65vb"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Errors.sol":{"keccak256":"0x6afa713bfd42cf0f7656efa91201007ac465e42049d7de1d50753a373648c123","urls":["bzz-raw://ba1d02f4847670a1b83dec9f7d37f0b0418d6043447b69f3a29a5f9efc547fcf","dweb:/ipfs/QmQ7iH2keLNUKgq2xSWcRmuBE5eZ3F5whYAkAGzCNNoEWB"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Panic.sol":{"keccak256":"0xf7fe324703a64fc51702311dc51562d5cb1497734f074e4f483bfb6717572d7a","urls":["bzz-raw://c6a5ff4f9fd8649b7ee20800b7fa387d3465bd77cf20c2d1068cd5c98e1ed57a","dweb:/ipfs/QmVSaVJf9FXFhdYEYeCEfjMVHrxDh5qL4CGkxdMWpQCrqG"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x79796192ec90263f21b464d5bc90b777a525971d3de8232be80d9c4f9fb353b8","urls":["bzz-raw://f6fda447a62815e8064f47eff0dd1cf58d9207ad69b5d32280f8d7ed1d1e4621","dweb:/ipfs/QmfDRc7pxfaXB2Dh9np5Uf29Na3pQ7tafRS684wd3GLjVL"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/Math.sol":{"keccak256":"0xa00be322d7db5786750ce0ac7e2f5b633ac30a5ed5fa1ced1e74acfc19acecea","urls":["bzz-raw://6c84e822f87cbdc4082533b626667b6928715bb2b1e8e7eb96954cebb9e38c8d","dweb:/ipfs/QmZmy9dgxLTerBAQDuuHqbL6EpgRxddqgv5KmwpXYVbKz1"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/SafeCast.sol":{"keccak256":"0x195533c86d0ef72bcc06456a4f66a9b941f38eb403739b00f21fd7c1abd1ae54","urls":["bzz-raw://b1d578337048cad08c1c03041cca5978eff5428aa130c781b271ad9e5566e1f8","dweb:/ipfs/QmPFKL2r9CBsMwmUqqdcFPfHZB2qcs9g1HDrPxzWSxomvy"],"license":"MIT"},"lib/v3-core/contracts/interfaces/IUniswapV3Pool.sol":{"keccak256":"0xfe6113d518466cd6652c85b111e01f33eb62157f49ae5ed7d5a3947a2044adb1","urls":["bzz-raw://1c42b9e6f5902ac38dd43e25750939baa7e0c1425dc75afd717c4412731065d5","dweb:/ipfs/QmWaoacnzsucTvBME2o7YgZBZMhaHv7fkj83htHMVWJKWh"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolActions.sol":{"keccak256":"0x9453dd0e7442188667d01d9b65de3f1e14e9511ff3e303179a15f6fc267f7634","urls":["bzz-raw://982f4328f956c3e60e67501e759eb292ac487f76460c774c50e9ae4fcc92aae5","dweb:/ipfs/QmRnzEDsaqtd9PJEVcgQi7p5aV5pMSvRUoGZJAdwFUJxgZ"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolDerivedState.sol":{"keccak256":"0xe603ac5b17ecdee73ba2b27efdf386c257a19c14206e87eee77e2017b742d9e5","urls":["bzz-raw://8febc9bdb399a4d94bb89f5377732652e2400e4a8dee808201ade6848f9004e7","dweb:/ipfs/QmaKDqYYFU4d2W2iN77aDHptfbFmYZRrMYXHeGpJmM8C1c"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolEvents.sol":{"keccak256":"0x8071514d0fe5d17d6fbd31c191cdfb703031c24e0ece3621d88ab10e871375cd","urls":["bzz-raw://d0b571930cc7488b1d546a7e9cea7c52d8b3c4e207da657ed0e0db7343b8cd03","dweb:/ipfs/QmaGK6vVwB95QSTR1XMYvrh7ivYAYZxi3fD7v6VMA4jZ39"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolImmutables.sol":{"keccak256":"0xf6e5d2cd1139c4c276bdbc8e1d2b256e456c866a91f1b868da265c6d2685c3f7","urls":["bzz-raw://b99c8c9ae8e27ee6559e5866bea82cbc9ffc8247f8d15b7422a4deb287d4d047","dweb:/ipfs/QmfL8gaqt3ffAnm6nVj5ksuNpLygXuL3xq5VBqrkwC2JJ3"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolOwnerActions.sol":{"keccak256":"0x759b78a2918af9e99e246dc3af084f654e48ef32bb4e4cb8a966aa3dcaece235","urls":["bzz-raw://64144fb96e1c7fdba87305acadb98a198d26a3d46c097cb3a666e567f6f29735","dweb:/ipfs/QmUnWVwN9FKB9uV5Pr8YfLpWZnYM2DENnRMaadZ492JS9u"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/interfaces/pool/IUniswapV3PoolState.sol":{"keccak256":"0x852dc1f5df7dcf7f11e7bb3eed79f0cea72ad4b25f6a9d2c35aafb48925fd49f","urls":["bzz-raw://ed63907c38ff36b0e22bc9ffc53e791ea74f0d4f0e7c257fdfb5aaf8825b1f0f","dweb:/ipfs/QmSQrckghEjs6HVsA5GVgpNpZWvTXMY5eQLF7cN6deFeEg"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/libraries/FullMath.sol":{"keccak256":"0xd95005828f1739c584c77c107fe2c747461cb8dff9fe264f7b3c20eca6cdf029","urls":["bzz-raw://fad0f57a47c5e0210e84c1afce71708e7969bf840c5967a627575124960bb8ce","dweb:/ipfs/QmYyJkVPTuYv7BhiwKudjUwG91qoGyyNh5NzjvNbQgJuXM"],"license":"MIT"},"lib/v3-core/contracts/libraries/TickMath.sol":{"keccak256":"0xa45083d9403f87e879dbf03219f7f31c0e2b524a584a682af1ac9e7928616aac","urls":["bzz-raw://25f156571bca8df006a61a2926b0ef13e6bea42b71d9f5c86d6f4350a8726f7a","dweb:/ipfs/QmRxi8a5vbhkXVEizucLgHYbPWaHVgQTydJRJmp9bHbbGC"],"license":"GPL-2.0-or-later"},"src/interfaces/IAddressResolver.sol":{"keccak256":"0xaec2d907929030bdf85eec44cbab9a4a7416777a92698b44cfcd24d6c5f36182","urls":["bzz-raw://dd5dab5f45593f59a07cb08576ebc384e21617c549aeb1d0a49ce2427514a8c2","dweb:/ipfs/QmeBYC1HN4X3hkTHZufXWe5vq3dTP5x5EiGeZDE4gXF9zE"],"license":"MIT"},"src/interfaces/IVault.sol":{"keccak256":"0x6e445b7d9fcad0c1848c40aa7394d5f63c156c8210199140cf3c6f6384861142","urls":["bzz-raw://1d58c4b0b7e7ea03fbc56a8a3384249b2e77a7bda6cf449e013641d5e050371f","dweb:/ipfs/QmQ7uCCtXha7UJHXpTCpFFp2CLwnt2d1Qpudj1toGbfpDG"],"license":"MIT"},"src/interfaces/IsOikosToken.sol":{"keccak256":"0x6adc9224c5a768d6fe575fa68b10182c2933aa01eaf289d6e4a9401b53e6ce3e","urls":["bzz-raw://f578f8b44a65c9e4847b11fd0c99346b36c772e6faeb79c9b806ff4d94928001","dweb:/ipfs/Qmdi3eLFjebPTQzUFug2pGKo9TPab93DAKaQHE74SSZfLp"],"license":"MIT"},"src/libraries/Conversions.sol":{"keccak256":"0xb5fc027f50b8aa3da3afd6c062429d2d024bfafa63e5bdf6073ba89d40b1d481","urls":["bzz-raw://882fb58ec799ede30742c2196ec0b83cd49b6d0debcc5c042d72178ee2993329","dweb:/ipfs/QmNV2iZMJmTbDY5s2sMiV3A7eon9BVrxDFDnJtosUae9Yk"],"license":"MIT"},"src/libraries/Logarithm.sol":{"keccak256":"0xf9d72c21392110316a61970690943ed9bfcaadc3ac29cafb8b7b31fc5f4d5f99","urls":["bzz-raw://661c1db4d9a70257d6baf3c34810445023e3df2bf6a9be7888ba79f1d056e010","dweb:/ipfs/QmQuk8RZ7uiYYA978pjZVVXBsZm2PneVCA6B35fpDNUEtq"],"license":"MIT"},"src/libraries/Utils.sol":{"keccak256":"0x47e7c4eba21820d2c346f9f34e7082ab168f4307dc579d9c60cce873f6de101e","urls":["bzz-raw://999a1ba13d77e748abe363bda619136d85d7a5ba60e3aa1a8b35ca5b2d6be598","dweb:/ipfs/QmafCWV9UE4zUKvFN5NKxgiJ6Ekp1Wjxcm8WJaG3wMUmsi"],"license":"MIT"},"src/staking/Staking.sol":{"keccak256":"0x07e915ebe07801682596e0f8a3754e8f64a1d1078cdc114d58fe18e02317bf1e","urls":["bzz-raw://1836f1b50376e9c0ced31f07e1e817fb350e12abaa3c47f0eda41528e71858eb","dweb:/ipfs/QmW7PUKhD3vhJP2Hxi5mrHbj3vujDLbvGUoJnjfo8sEAAq"],"license":"MIT"},"src/types/Types.sol":{"keccak256":"0xc6124e9b95575085ad8cd7d24ba0ce1794b7885557108a5fd96757c3739ef27a","urls":["bzz-raw://7fbbaf092bdb76b72f7e17a9a8eeeb99848def61a5970ee5e5a79fe81800c35b","dweb:/ipfs/QmdWnhKqwfGWomrdyX6rasfJvcMqZrsN1FaBvtr1qhHUqe"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/staking/Staking.sol","id":67636,"exportedSymbols":{"IERC20":[41781],"IVault":[60218],"IsOikosToken":[60342],"Math":[45545],"SafeERC20":[42254],"Staking":[67635],"Utils":[66413]},"nodeType":"SourceUnit","src":"32:6973:123","nodes":[{"id":67156,"nodeType":"PragmaDirective","src":"32:24:123","nodes":[],"literals":["solidity","^","0.8",".23"]},{"id":67158,"nodeType":"ImportDirective","src":"58:82:123","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol","file":"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":42255,"symbolAliases":[{"foreign":{"id":67157,"name":"SafeERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42254,"src":"66:9:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67160,"nodeType":"ImportDirective","src":"141:70:123","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":41782,"symbolAliases":[{"foreign":{"id":67159,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41781,"src":"149:6:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67162,"nodeType":"ImportDirective","src":"212:60:123","nodes":[],"absolutePath":"src/interfaces/IsOikosToken.sol","file":"../interfaces/IsOikosToken.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":60343,"symbolAliases":[{"foreign":{"id":67161,"name":"IsOikosToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60342,"src":"220:12:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67164,"nodeType":"ImportDirective","src":"273:48:123","nodes":[],"absolutePath":"src/interfaces/IVault.sol","file":"../interfaces/IVault.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":60219,"symbolAliases":[{"foreign":{"id":67163,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60218,"src":"281:6:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67166,"nodeType":"ImportDirective","src":"322:45:123","nodes":[],"absolutePath":"src/libraries/Utils.sol","file":"../libraries/Utils.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":66414,"symbolAliases":[{"foreign":{"id":67165,"name":"Utils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66413,"src":"330:5:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67168,"nodeType":"ImportDirective","src":"368:65:123","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/math/Math.sol","file":"@openzeppelin/contracts/utils/math/Math.sol","nameLocation":"-1:-1:-1","scope":67636,"sourceUnit":45546,"symbolAliases":[{"foreign":{"id":67167,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45545,"src":"376:4:123","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":67635,"nodeType":"ContractDefinition","src":"527:6478:123","nodes":[{"id":67173,"nodeType":"UsingForDirective","src":"550:27:123","nodes":[],"global":false,"libraryName":{"id":67170,"name":"SafeERC20","nameLocations":["556:9:123"],"nodeType":"IdentifierPath","referencedDeclaration":42254,"src":"556:9:123"},"typeName":{"id":67172,"nodeType":"UserDefinedTypeName","pathNode":{"id":67171,"name":"IERC20","nameLocations":["570:6:123"],"nodeType":"IdentifierPath","referencedDeclaration":41781,"src":"570:6:123"},"referencedDeclaration":41781,"src":"570:6:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}}},{"id":67177,"nodeType":"UsingForDirective","src":"582:33:123","nodes":[],"global":false,"libraryName":{"id":67174,"name":"SafeERC20","nameLocations":["588:9:123"],"nodeType":"IdentifierPath","referencedDeclaration":42254,"src":"588:9:123"},"typeName":{"id":67176,"nodeType":"UserDefinedTypeName","pathNode":{"id":67175,"name":"IsOikosToken","nameLocations":["602:12:123"],"nodeType":"IdentifierPath","referencedDeclaration":60342,"src":"602:12:123"},"referencedDeclaration":60342,"src":"602:12:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}}},{"id":67185,"nodeType":"StructDefinition","src":"864:146:123","nodes":[],"canonicalName":"Staking.Epoch","documentation":{"id":67178,"nodeType":"StructuredDocumentation","src":"621:238:123","text":" @notice Struct representing an epoch.\n @param number The epoch number since inception.\n @param end The timestamp when the epoch ends.\n @param distribute The amount of rewards distributed in this epoch."},"members":[{"constant":false,"id":67180,"mutability":"mutable","name":"number","nameLocation":"895:6:123","nodeType":"VariableDeclaration","scope":67185,"src":"887:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67179,"name":"uint256","nodeType":"ElementaryTypeName","src":"887:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":67182,"mutability":"mutable","name":"end","nameLocation":"942:3:123","nodeType":"VariableDeclaration","scope":67185,"src":"934:11:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67181,"name":"uint256","nodeType":"ElementaryTypeName","src":"934:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":67184,"mutability":"mutable","name":"distribute","nameLocation":"983:10:123","nodeType":"VariableDeclaration","scope":67185,"src":"975:18:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67183,"name":"uint256","nodeType":"ElementaryTypeName","src":"975:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"Epoch","nameLocation":"871:5:123","scope":67635,"visibility":"public"},{"id":67188,"nodeType":"VariableDeclaration","src":"1039:17:123","nodes":[],"constant":false,"functionSelector":"0ad806b7","mutability":"mutable","name":"OKS","nameLocation":"1053:3:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"},"typeName":{"id":67187,"nodeType":"UserDefinedTypeName","pathNode":{"id":67186,"name":"IERC20","nameLocations":["1039:6:123"],"nodeType":"IdentifierPath","referencedDeclaration":41781,"src":"1039:6:123"},"referencedDeclaration":41781,"src":"1039:6:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"visibility":"public"},{"id":67191,"nodeType":"VariableDeclaration","src":"1089:24:123","nodes":[],"constant":false,"functionSelector":"17face67","mutability":"mutable","name":"sOKS","nameLocation":"1109:4:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"},"typeName":{"id":67190,"nodeType":"UserDefinedTypeName","pathNode":{"id":67189,"name":"IsOikosToken","nameLocations":["1089:12:123"],"nodeType":"IdentifierPath","referencedDeclaration":60342,"src":"1089:12:123"},"referencedDeclaration":60342,"src":"1089:12:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"visibility":"public"},{"id":67193,"nodeType":"VariableDeclaration","src":"1158:24:123","nodes":[],"constant":false,"functionSelector":"bf7e214f","mutability":"mutable","name":"authority","nameLocation":"1173:9:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67192,"name":"address","nodeType":"ElementaryTypeName","src":"1158:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":67195,"nodeType":"VariableDeclaration","src":"1237:20:123","nodes":[],"constant":false,"functionSelector":"fbfa77cf","mutability":"mutable","name":"vault","nameLocation":"1252:5:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67194,"name":"address","nodeType":"ElementaryTypeName","src":"1237:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":67198,"nodeType":"VariableDeclaration","src":"1302:18:123","nodes":[],"constant":false,"functionSelector":"900cf0cf","mutability":"mutable","name":"epoch","nameLocation":"1315:5:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch"},"typeName":{"id":67197,"nodeType":"UserDefinedTypeName","pathNode":{"id":67196,"name":"Epoch","nameLocations":["1302:5:123"],"nodeType":"IdentifierPath","referencedDeclaration":67185,"src":"1302:5:123"},"referencedDeclaration":67185,"src":"1302:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage_ptr","typeString":"struct Staking.Epoch"}},"visibility":"public"},{"id":67203,"nodeType":"VariableDeclaration","src":"1349:39:123","nodes":[],"constant":false,"functionSelector":"c6b61e4c","mutability":"mutable","name":"epochs","nameLocation":"1382:6:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$67185_storage_$","typeString":"mapping(uint256 => struct Staking.Epoch)"},"typeName":{"id":67202,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":67199,"name":"uint256","nodeType":"ElementaryTypeName","src":"1357:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"1349:25:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$67185_storage_$","typeString":"mapping(uint256 => struct Staking.Epoch)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":67201,"nodeType":"UserDefinedTypeName","pathNode":{"id":67200,"name":"Epoch","nameLocations":["1368:5:123"],"nodeType":"IdentifierPath","referencedDeclaration":67185,"src":"1368:5:123"},"referencedDeclaration":67185,"src":"1368:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage_ptr","typeString":"struct Staking.Epoch"}}},"visibility":"public"},{"id":67205,"nodeType":"VariableDeclaration","src":"1445:27:123","nodes":[],"constant":false,"functionSelector":"0e15561a","mutability":"mutable","name":"totalRewards","nameLocation":"1460:12:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67204,"name":"uint256","nodeType":"ElementaryTypeName","src":"1445:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":67207,"nodeType":"VariableDeclaration","src":"1508:26:123","nodes":[],"constant":false,"functionSelector":"6c5ec94d","mutability":"mutable","name":"totalEpochs","nameLocation":"1523:11:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67206,"name":"uint256","nodeType":"ElementaryTypeName","src":"1508:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":67209,"nodeType":"VariableDeclaration","src":"1567:26:123","nodes":[],"constant":false,"functionSelector":"817b1cd2","mutability":"mutable","name":"totalStaked","nameLocation":"1582:11:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67208,"name":"uint256","nodeType":"ElementaryTypeName","src":"1567:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":67213,"nodeType":"VariableDeclaration","src":"1679:50:123","nodes":[],"constant":false,"mutability":"mutable","name":"stakedBalances","nameLocation":"1715:14:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":67212,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":67210,"name":"address","nodeType":"ElementaryTypeName","src":"1687:7:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1679:27:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":67211,"name":"uint256","nodeType":"ElementaryTypeName","src":"1698:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"private"},{"id":67217,"nodeType":"VariableDeclaration","src":"1803:57:123","nodes":[],"constant":false,"functionSelector":"cffd1a8f","mutability":"mutable","name":"lastOperationTimestamp","nameLocation":"1838:22:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":67216,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":67214,"name":"address","nodeType":"ElementaryTypeName","src":"1811:7:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1803:27:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":67215,"name":"uint256","nodeType":"ElementaryTypeName","src":"1822:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":67221,"nodeType":"VariableDeclaration","src":"1933:47:123","nodes":[],"constant":false,"functionSelector":"700bb04b","mutability":"mutable","name":"stakedEpochs","nameLocation":"1968:12:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":67220,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":67218,"name":"address","nodeType":"ElementaryTypeName","src":"1941:7:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1933:27:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":67219,"name":"uint256","nodeType":"ElementaryTypeName","src":"1952:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":67224,"nodeType":"VariableDeclaration","src":"2043:31:123","nodes":[],"constant":false,"functionSelector":"ece35298","mutability":"mutable","name":"lockInEpochs","nameLocation":"2058:12:123","scope":67635,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67222,"name":"uint256","nodeType":"ElementaryTypeName","src":"2043:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":67223,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2073:1:123","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"public"},{"id":67226,"nodeType":"ErrorDefinition","src":"2102:26:123","nodes":[],"errorSelector":"a3df9bcf","name":"StakingNotEnabled","nameLocation":"2108:17:123","parameters":{"id":67225,"nodeType":"ParameterList","parameters":[],"src":"2125:2:123"}},{"id":67228,"nodeType":"ErrorDefinition","src":"2133:26:123","nodes":[],"errorSelector":"e5239090","name":"InvalidParameters","nameLocation":"2139:17:123","parameters":{"id":67227,"nodeType":"ParameterList","parameters":[],"src":"2156:2:123"}},{"id":67232,"nodeType":"ErrorDefinition","src":"2164:47:123","nodes":[],"errorSelector":"74e0caad","name":"NotEnoughBalance","nameLocation":"2170:16:123","parameters":{"id":67231,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67230,"mutability":"mutable","name":"currentBalance","nameLocation":"2195:14:123","nodeType":"VariableDeclaration","scope":67232,"src":"2187:22:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67229,"name":"uint256","nodeType":"ElementaryTypeName","src":"2187:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2186:24:123"}},{"id":67234,"nodeType":"ErrorDefinition","src":"2216:22:123","nodes":[],"errorSelector":"28829e82","name":"InvalidReward","nameLocation":"2222:13:123","parameters":{"id":67233,"nodeType":"ParameterList","parameters":[],"src":"2235:2:123"}},{"id":67236,"nodeType":"ErrorDefinition","src":"2243:18:123","nodes":[],"errorSelector":"8d1af8bd","name":"OnlyVault","nameLocation":"2249:9:123","parameters":{"id":67235,"nodeType":"ParameterList","parameters":[],"src":"2258:2:123"}},{"id":67238,"nodeType":"ErrorDefinition","src":"2266:20:123","nodes":[],"errorSelector":"09caebf3","name":"CustomError","nameLocation":"2272:11:123","parameters":{"id":67237,"nodeType":"ParameterList","parameters":[],"src":"2283:2:123"}},{"id":67240,"nodeType":"ErrorDefinition","src":"2291:27:123","nodes":[],"errorSelector":"a22b745e","name":"CooldownNotElapsed","nameLocation":"2297:18:123","parameters":{"id":67239,"nodeType":"ParameterList","parameters":[],"src":"2315:2:123"}},{"id":67242,"nodeType":"ErrorDefinition","src":"2323:31:123","nodes":[],"errorSelector":"90d6ae8a","name":"LockInPeriodNotElapsed","nameLocation":"2329:22:123","parameters":{"id":67241,"nodeType":"ParameterList","parameters":[],"src":"2351:2:123"}},{"id":67248,"nodeType":"EventDefinition","src":"2374:51:123","nodes":[],"anonymous":false,"eventSelector":"9e71bc8eea02a63969f509818f2dafb9254532904319f9dbda79b67bd34a5f3d","name":"Staked","nameLocation":"2380:6:123","parameters":{"id":67247,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67244,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"2403:4:123","nodeType":"VariableDeclaration","scope":67248,"src":"2387:20:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67243,"name":"address","nodeType":"ElementaryTypeName","src":"2387:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":67246,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2417:6:123","nodeType":"VariableDeclaration","scope":67248,"src":"2409:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67245,"name":"uint256","nodeType":"ElementaryTypeName","src":"2409:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2386:38:123"}},{"id":67254,"nodeType":"EventDefinition","src":"2430:53:123","nodes":[],"anonymous":false,"eventSelector":"0f5bb82176feb1b5e747e28471aa92156a04d9f3ab9f45f28e2d704232b93f75","name":"Unstaked","nameLocation":"2436:8:123","parameters":{"id":67253,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67250,"indexed":true,"mutability":"mutable","name":"user","nameLocation":"2461:4:123","nodeType":"VariableDeclaration","scope":67254,"src":"2445:20:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67249,"name":"address","nodeType":"ElementaryTypeName","src":"2445:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":67252,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2475:6:123","nodeType":"VariableDeclaration","scope":67254,"src":"2467:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67251,"name":"uint256","nodeType":"ElementaryTypeName","src":"2467:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2444:38:123"}},{"id":67258,"nodeType":"EventDefinition","src":"2488:37:123","nodes":[],"anonymous":false,"eventSelector":"0026e7497a09565f1474bfb88ac7af039b814d7b1781a9e0a09774f56b182f51","name":"NotifiedReward","nameLocation":"2494:14:123","parameters":{"id":67257,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67256,"indexed":false,"mutability":"mutable","name":"reward","nameLocation":"2517:6:123","nodeType":"VariableDeclaration","scope":67258,"src":"2509:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67255,"name":"uint256","nodeType":"ElementaryTypeName","src":"2509:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2508:16:123"}},{"id":67315,"nodeType":"FunctionDefinition","src":"2776:487:123","nodes":[],"body":{"id":67314,"nodeType":"Block","src":"2871:392:123","nodes":[],"statements":[{"expression":{"id":67272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67268,"name":"OKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67188,"src":"2881:3:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":67270,"name":"_oikos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67261,"src":"2894:6:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":67269,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":41781,"src":"2887:6:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$41781_$","typeString":"type(contract IERC20)"}},"id":67271,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2887:14:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"src":"2881:20:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"id":67273,"nodeType":"ExpressionStatement","src":"2881:20:123"},{"expression":{"id":67278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67274,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"2911:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":67276,"name":"_sOikos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67263,"src":"2931:7:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":67275,"name":"IsOikosToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60342,"src":"2918:12:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IsOikosToken_$60342_$","typeString":"type(contract IsOikosToken)"}},"id":67277,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2918:21:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"src":"2911:28:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67279,"nodeType":"ExpressionStatement","src":"2911:28:123"},{"expression":{"id":67282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67280,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67195,"src":"2949:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":67281,"name":"_vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67265,"src":"2957:6:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2949:14:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":67283,"nodeType":"ExpressionStatement","src":"2949:14:123"},{"expression":{"arguments":[{"arguments":[{"id":67289,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3006:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}],"id":67288,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2998:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":67287,"name":"address","nodeType":"ElementaryTypeName","src":"2998:7:123","typeDescriptions":{}}},"id":67290,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2998:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67284,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"2982:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2987:10:123","memberName":"initialize","nodeType":"MemberAccess","referencedDeclaration":60313,"src":"2982:15:123","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":67291,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2982:30:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67292,"nodeType":"ExpressionStatement","src":"2982:30:123"},{"expression":{"id":67299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67293,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"3075:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"31","id":67295,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3111:1:123","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"hexValue":"30","id":67296,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3131:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":67297,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3158:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":67294,"name":"Epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67185,"src":"3083:5:123","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Epoch_$67185_storage_ptr_$","typeString":"type(struct Staking.Epoch storage pointer)"}},"id":67298,"isConstant":false,"isLValue":false,"isPure":true,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["3103:6:123","3126:3:123","3146:10:123"],"names":["number","end","distribute"],"nodeType":"FunctionCall","src":"3083:87:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_memory_ptr","typeString":"struct Staking.Epoch memory"}},"src":"3075:95:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67300,"nodeType":"ExpressionStatement","src":"3075:95:123"},{"expression":{"id":67303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67301,"name":"totalStaked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67209,"src":"3181:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":67302,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3195:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3181:15:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67304,"nodeType":"ExpressionStatement","src":"3181:15:123"},{"expression":{"id":67309,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67305,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67203,"src":"3206:6:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$67185_storage_$","typeString":"mapping(uint256 => struct Staking.Epoch storage ref)"}},"id":67307,"indexExpression":{"id":67306,"name":"totalEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67207,"src":"3213:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3206:19:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":67308,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"3228:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"src":"3206:27:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67310,"nodeType":"ExpressionStatement","src":"3206:27:123"},{"expression":{"id":67312,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3243:13:123","subExpression":{"id":67311,"name":"totalEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67207,"src":"3243:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67313,"nodeType":"ExpressionStatement","src":"3243:13:123"}]},"documentation":{"id":67259,"nodeType":"StructuredDocumentation","src":"2531:240:123","text":" @notice Constructor to initialize the Staking contract.\n @param _oikos The address of the OKS token.\n @param _sOikos The address of the staked OKS token.\n @param _vault The address of the vault contract."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":67266,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67261,"mutability":"mutable","name":"_oikos","nameLocation":"2809:6:123","nodeType":"VariableDeclaration","scope":67315,"src":"2801:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67260,"name":"address","nodeType":"ElementaryTypeName","src":"2801:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":67263,"mutability":"mutable","name":"_sOikos","nameLocation":"2833:7:123","nodeType":"VariableDeclaration","scope":67315,"src":"2825:15:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67262,"name":"address","nodeType":"ElementaryTypeName","src":"2825:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":67265,"mutability":"mutable","name":"_vault","nameLocation":"2858:6:123","nodeType":"VariableDeclaration","scope":67315,"src":"2850:14:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67264,"name":"address","nodeType":"ElementaryTypeName","src":"2850:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2787:83:123"},"returnParameters":{"id":67267,"nodeType":"ParameterList","parameters":[],"src":"2871:0:123"},"scope":67635,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":67409,"nodeType":"FunctionDefinition","src":"3389:1072:123","nodes":[],"body":{"id":67408,"nodeType":"Block","src":"3428:1033:123","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":67321,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"3442:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":67322,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3453:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3442:12:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67328,"nodeType":"IfStatement","src":"3438:69:123","trueBody":{"id":67327,"nodeType":"Block","src":"3456:51:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67324,"name":"InvalidParameters","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67228,"src":"3477:17:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67325,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3477:19:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67326,"nodeType":"RevertStatement","src":"3470:26:123"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":67335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":67330,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67195,"src":"3528:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":67329,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60218,"src":"3521:6:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$60218_$","typeString":"type(contract IVault)"}},"id":67331,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3521:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$60218","typeString":"contract IVault"}},"id":67332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3535:14:123","memberName":"stakingEnabled","nodeType":"MemberAccess","referencedDeclaration":60188,"src":"3521:28:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":67333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3521:30:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"66616c7365","id":67334,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3555:5:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"3521:39:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67340,"nodeType":"IfStatement","src":"3517:96:123","trueBody":{"id":67339,"nodeType":"Block","src":"3562:51:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67336,"name":"StakingNotEnabled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67226,"src":"3583:17:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67337,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3583:19:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67338,"nodeType":"RevertStatement","src":"3576:26:123"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":67341,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3718:5:123","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":67342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3724:9:123","memberName":"timestamp","nodeType":"MemberAccess","src":"3718:15:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67348,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":67343,"name":"lastOperationTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67217,"src":"3736:22:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67346,"indexExpression":{"expression":{"id":67344,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3759:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67345,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3763:6:123","memberName":"sender","nodeType":"MemberAccess","src":"3759:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3736:34:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"33","id":67347,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3773:6:123","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_259200_by_1","typeString":"int_const 259200"},"value":"3"},"src":"3736:43:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3718:61:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67354,"nodeType":"IfStatement","src":"3714:119:123","trueBody":{"id":67353,"nodeType":"Block","src":"3781:52:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67350,"name":"CooldownNotElapsed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67240,"src":"3802:18:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67351,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3802:20:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67352,"nodeType":"RevertStatement","src":"3795:27:123"}]}},{"expression":{"id":67361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67355,"name":"lastOperationTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67217,"src":"3911:22:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67358,"indexExpression":{"expression":{"id":67356,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3934:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3938:6:123","memberName":"sender","nodeType":"MemberAccess","src":"3934:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3911:34:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":67359,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3948:5:123","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":67360,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3954:9:123","memberName":"timestamp","nodeType":"MemberAccess","src":"3948:15:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3911:52:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67362,"nodeType":"ExpressionStatement","src":"3911:52:123"},{"expression":{"arguments":[{"expression":{"id":67366,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4068:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67367,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4072:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4068:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":67370,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4088:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}],"id":67369,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4080:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":67368,"name":"address","nodeType":"ElementaryTypeName","src":"4080:7:123","typeDescriptions":{}}},"id":67371,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4080:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67372,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"4095:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":67363,"name":"OKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67188,"src":"4051:3:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"id":67365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4055:12:123","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":41780,"src":"4051:16:123","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":67373,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4051:52:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67374,"nodeType":"ExpressionStatement","src":"4051:52:123"},{"expression":{"arguments":[{"expression":{"id":67378,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4175:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67379,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4179:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4175:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67380,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"4187:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":67375,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"4165:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4170:4:123","memberName":"mint","nodeType":"MemberAccess","referencedDeclaration":60333,"src":"4165:9:123","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256) external"}},"id":67381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4165:30:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67382,"nodeType":"ExpressionStatement","src":"4165:30:123"},{"expression":{"id":67388,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67383,"name":"stakedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67213,"src":"4293:14:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67386,"indexExpression":{"expression":{"id":67384,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4308:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4312:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4308:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4293:26:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":67387,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"4323:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4293:37:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67389,"nodeType":"ExpressionStatement","src":"4293:37:123"},{"expression":{"id":67392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67390,"name":"totalStaked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67209,"src":"4340:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":67391,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"4355:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4340:22:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67393,"nodeType":"ExpressionStatement","src":"4340:22:123"},{"expression":{"id":67400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67394,"name":"stakedEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67221,"src":"4372:12:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67397,"indexExpression":{"expression":{"id":67395,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4385:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4389:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4385:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4372:24:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":67398,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"4399:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67399,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4405:6:123","memberName":"number","nodeType":"MemberAccess","referencedDeclaration":67180,"src":"4399:12:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4372:39:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67401,"nodeType":"ExpressionStatement","src":"4372:39:123"},{"eventCall":{"arguments":[{"expression":{"id":67403,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4434:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4438:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4434:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67405,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67318,"src":"4446:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":67402,"name":"Staked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67248,"src":"4427:6:123","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":67406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4427:27:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67407,"nodeType":"EmitStatement","src":"4422:32:123"}]},"documentation":{"id":67316,"nodeType":"StructuredDocumentation","src":"3269:115:123","text":" @notice Allows a user to stake OKS tokens.\n @param _amount The amount of OKS tokens to stake."},"functionSelector":"a694fc3a","implemented":true,"kind":"function","modifiers":[],"name":"stake","nameLocation":"3398:5:123","parameters":{"id":67319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67318,"mutability":"mutable","name":"_amount","nameLocation":"3412:7:123","nodeType":"VariableDeclaration","scope":67409,"src":"3404:15:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67317,"name":"uint256","nodeType":"ElementaryTypeName","src":"3404:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3403:17:123"},"returnParameters":{"id":67320,"nodeType":"ParameterList","parameters":[],"src":"3428:0:123"},"scope":67635,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":67522,"nodeType":"FunctionDefinition","src":"4539:867:123","nodes":[],"body":{"id":67521,"nodeType":"Block","src":"4567:839:123","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":67419,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":67414,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67195,"src":"4588:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":67413,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60218,"src":"4581:6:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$60218_$","typeString":"type(contract IVault)"}},"id":67415,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4581:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$60218","typeString":"contract IVault"}},"id":67416,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4595:14:123","memberName":"stakingEnabled","nodeType":"MemberAccess","referencedDeclaration":60188,"src":"4581:28:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":67417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4581:30:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"66616c7365","id":67418,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"4615:5:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"4581:39:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67424,"nodeType":"IfStatement","src":"4577:96:123","trueBody":{"id":67423,"nodeType":"Block","src":"4622:51:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67420,"name":"StakingNotEnabled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67226,"src":"4643:17:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67421,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4643:19:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67422,"nodeType":"RevertStatement","src":"4636:26:123"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":67425,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"4758:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67426,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4764:6:123","memberName":"number","nodeType":"MemberAccess","referencedDeclaration":67180,"src":"4758:12:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67432,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"baseExpression":{"id":67427,"name":"stakedEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67221,"src":"4773:12:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67430,"indexExpression":{"expression":{"id":67428,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4786:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4790:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4786:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4773:24:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":67431,"name":"lockInEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67224,"src":"4800:12:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4773:39:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4758:54:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67438,"nodeType":"IfStatement","src":"4754:116:123","trueBody":{"id":67437,"nodeType":"Block","src":"4814:56:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67434,"name":"LockInPeriodNotElapsed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67242,"src":"4835:22:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4835:24:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67436,"nodeType":"RevertStatement","src":"4828:31:123"}]}},{"assignments":[67440],"declarations":[{"constant":false,"id":67440,"mutability":"mutable","name":"balance","nameLocation":"4888:7:123","nodeType":"VariableDeclaration","scope":67521,"src":"4880:15:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67439,"name":"uint256","nodeType":"ElementaryTypeName","src":"4880:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":67456,"initialValue":{"arguments":[{"arguments":[{"expression":{"id":67445,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4922:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4926:6:123","memberName":"sender","nodeType":"MemberAccess","src":"4922:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67443,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"4907:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4912:9:123","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":41738,"src":"4907:14:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":67447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4907:26:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"arguments":[{"id":67452,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4957:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}],"id":67451,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4949:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":67450,"name":"address","nodeType":"ElementaryTypeName","src":"4949:7:123","typeDescriptions":{}}},"id":67453,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4949:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67448,"name":"OKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67188,"src":"4935:3:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"id":67449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4939:9:123","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":41738,"src":"4935:13:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":67454,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4935:28:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":67441,"name":"Math","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45545,"src":"4898:4:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Math_$45545_$","typeString":"type(library Math)"}},"id":67442,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4903:3:123","memberName":"min","nodeType":"MemberAccess","referencedDeclaration":44174,"src":"4898:8:123","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":67455,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4898:66:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4880:84:123"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":67457,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67440,"src":"4979:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":67458,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4990:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4979:12:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67465,"nodeType":"IfStatement","src":"4975:69:123","trueBody":{"id":67464,"nodeType":"Block","src":"4993:51:123","statements":[{"errorCall":{"arguments":[{"hexValue":"30","id":67461,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5031:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":67460,"name":"NotEnoughBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67232,"src":"5014:16:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":67462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5014:19:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67463,"nodeType":"RevertStatement","src":"5007:26:123"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":67470,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5080:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}],"id":67469,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5072:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":67468,"name":"address","nodeType":"ElementaryTypeName","src":"5072:7:123","typeDescriptions":{}}},"id":67471,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5072:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67466,"name":"OKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67188,"src":"5058:3:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"id":67467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5062:9:123","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":41738,"src":"5058:13:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":67472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5058:28:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":67473,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67440,"src":"5089:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5058:38:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67480,"nodeType":"IfStatement","src":"5054:102:123","trueBody":{"id":67479,"nodeType":"Block","src":"5098:58:123","statements":[{"errorCall":{"arguments":[{"id":67476,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67440,"src":"5136:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":67475,"name":"NotEnoughBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67232,"src":"5119:16:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":67477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5119:25:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67478,"nodeType":"RevertStatement","src":"5112:32:123"}]}},{"expression":{"arguments":[{"arguments":[{"expression":{"id":67486,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5191:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5195:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5191:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67484,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"5176:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67485,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5181:9:123","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":41738,"src":"5176:14:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":67488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5176:26:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":67489,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5204:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5208:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5204:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":67481,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"5166:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5171:4:123","memberName":"burn","nodeType":"MemberAccess","referencedDeclaration":60341,"src":"5166:9:123","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_address_$returns$__$","typeString":"function (uint256,address) external"}},"id":67491,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5166:49:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67492,"nodeType":"ExpressionStatement","src":"5166:49:123"},{"expression":{"arguments":[{"expression":{"id":67496,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5242:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5246:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5242:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67498,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67440,"src":"5254:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":67493,"name":"OKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67188,"src":"5225:3:123","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$41781","typeString":"contract IERC20"}},"id":67495,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5229:12:123","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":41890,"src":"5225:16:123","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$41781_$_t_address_$_t_uint256_$returns$__$attached_to$_t_contract$_IERC20_$41781_$","typeString":"function (contract IERC20,address,uint256)"}},"id":67499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5225:37:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67500,"nodeType":"ExpressionStatement","src":"5225:37:123"},{"expression":{"id":67506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67501,"name":"totalStaked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67209,"src":"5273:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"baseExpression":{"id":67502,"name":"stakedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67213,"src":"5288:14:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67505,"indexExpression":{"expression":{"id":67503,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5303:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5307:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5303:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5288:26:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5273:41:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67507,"nodeType":"ExpressionStatement","src":"5273:41:123"},{"expression":{"id":67513,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67508,"name":"stakedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67213,"src":"5324:14:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67511,"indexExpression":{"expression":{"id":67509,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5339:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67510,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5343:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5339:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5324:26:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":67512,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5353:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5324:30:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67514,"nodeType":"ExpressionStatement","src":"5324:30:123"},{"eventCall":{"arguments":[{"expression":{"id":67516,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"5379:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67517,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5383:6:123","memberName":"sender","nodeType":"MemberAccess","src":"5379:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":67518,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67440,"src":"5391:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":67515,"name":"Unstaked","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67254,"src":"5370:8:123","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":67519,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5370:29:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67520,"nodeType":"EmitStatement","src":"5365:34:123"}]},"documentation":{"id":67410,"nodeType":"StructuredDocumentation","src":"4467:67:123","text":" @notice Allows a user to unstake their OKS tokens."},"functionSelector":"2def6620","implemented":true,"kind":"function","modifiers":[],"name":"unstake","nameLocation":"4548:7:123","parameters":{"id":67411,"nodeType":"ParameterList","parameters":[],"src":"4555:2:123"},"returnParameters":{"id":67412,"nodeType":"ParameterList","parameters":[],"src":"4567:0:123"},"scope":67635,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":67599,"nodeType":"FunctionDefinition","src":"5571:882:123","nodes":[],"body":{"id":67598,"nodeType":"Block","src":"5633:820:123","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":67536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":67530,"name":"_reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67525,"src":"5647:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"arguments":[{"id":67533,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5663:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":67532,"name":"uint256","nodeType":"ElementaryTypeName","src":"5663:7:123","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":67531,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"5658:4:123","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":67534,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5658:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":67535,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5672:3:123","memberName":"max","nodeType":"MemberAccess","src":"5658:17:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5647:28:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67541,"nodeType":"IfStatement","src":"5643:81:123","trueBody":{"id":67540,"nodeType":"Block","src":"5677:47:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67537,"name":"InvalidReward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67234,"src":"5698:13:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5698:15:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67539,"nodeType":"RevertStatement","src":"5691:22:123"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":67548,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":67543,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67195,"src":"5745:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":67542,"name":"IVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60218,"src":"5738:6:123","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVault_$60218_$","typeString":"type(contract IVault)"}},"id":67544,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5738:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVault_$60218","typeString":"contract IVault"}},"id":67545,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5752:14:123","memberName":"stakingEnabled","nodeType":"MemberAccess","referencedDeclaration":60188,"src":"5738:28:123","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_bool_$","typeString":"function () view external returns (bool)"}},"id":67546,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5738:30:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"66616c7365","id":67547,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5772:5:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"5738:39:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67553,"nodeType":"IfStatement","src":"5734:96:123","trueBody":{"id":67552,"nodeType":"Block","src":"5779:51:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67549,"name":"StakingNotEnabled","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67226,"src":"5800:17:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5800:19:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67551,"nodeType":"RevertStatement","src":"5793:26:123"}]}},{"expression":{"id":67559,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":67554,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"5877:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67556,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5883:3:123","memberName":"end","nodeType":"MemberAccess","referencedDeclaration":67182,"src":"5877:9:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":67557,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5889:5:123","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":67558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5895:9:123","memberName":"timestamp","nodeType":"MemberAccess","src":"5889:15:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5877:27:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67560,"nodeType":"ExpressionStatement","src":"5877:27:123"},{"expression":{"id":67565,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":67561,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67203,"src":"5914:6:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$67185_storage_$","typeString":"mapping(uint256 => struct Staking.Epoch storage ref)"}},"id":67563,"indexExpression":{"id":67562,"name":"totalEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67207,"src":"5921:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5914:19:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":67564,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"5936:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"src":"5914:27:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67566,"nodeType":"ExpressionStatement","src":"5914:27:123"},{"expression":{"id":67568,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6013:13:123","subExpression":{"id":67567,"name":"totalEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67207,"src":"6013:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67569,"nodeType":"ExpressionStatement","src":"6013:13:123"},{"expression":{"id":67574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":67570,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"6096:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67572,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"6102:10:123","memberName":"distribute","nodeType":"MemberAccess","referencedDeclaration":67184,"src":"6096:16:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":67573,"name":"_reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67525,"src":"6115:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6096:26:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67575,"nodeType":"ExpressionStatement","src":"6096:26:123"},{"expression":{"id":67582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67576,"name":"epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67198,"src":"6190:5:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":67578,"name":"totalEpochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67207,"src":"6226:11:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":67579,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6256:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":67580,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6283:1:123","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":67577,"name":"Epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67185,"src":"6198:5:123","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Epoch_$67185_storage_ptr_$","typeString":"type(struct Staking.Epoch storage pointer)"}},"id":67581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["6218:6:123","6251:3:123","6271:10:123"],"names":["number","end","distribute"],"nodeType":"FunctionCall","src":"6198:97:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_memory_ptr","typeString":"struct Staking.Epoch memory"}},"src":"6190:105:123","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$67185_storage","typeString":"struct Staking.Epoch storage ref"}},"id":67583,"nodeType":"ExpressionStatement","src":"6190:105:123"},{"expression":{"arguments":[{"id":67587,"name":"_reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67525,"src":"6366:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":67584,"name":"sOKS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67191,"src":"6354:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_IsOikosToken_$60342","typeString":"contract IsOikosToken"}},"id":67586,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6359:6:123","memberName":"rebase","nodeType":"MemberAccess","referencedDeclaration":60319,"src":"6354:11:123","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":67588,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6354:20:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67589,"nodeType":"ExpressionStatement","src":"6354:20:123"},{"expression":{"id":67592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":67590,"name":"totalRewards","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67205,"src":"6384:12:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":67591,"name":"_reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67525,"src":"6400:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6384:23:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":67593,"nodeType":"ExpressionStatement","src":"6384:23:123"},{"eventCall":{"arguments":[{"id":67595,"name":"_reward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67525,"src":"6438:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":67594,"name":"NotifiedReward","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67258,"src":"6423:14:123","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":67596,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6423:23:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67597,"nodeType":"EmitStatement","src":"6418:28:123"}]},"documentation":{"id":67523,"nodeType":"StructuredDocumentation","src":"5412:154:123","text":" @notice Notifies the contract of a new reward amount and starts a new epoch.\n @param _reward The amount of rewards to distribute."},"functionSelector":"3c6b16ab","implemented":true,"kind":"function","modifiers":[{"id":67528,"kind":"modifierInvocation","modifierName":{"id":67527,"name":"onlyVault","nameLocations":["5623:9:123"],"nodeType":"IdentifierPath","referencedDeclaration":67634,"src":"5623:9:123"},"nodeType":"ModifierInvocation","src":"5623:9:123"}],"name":"notifyRewardAmount","nameLocation":"5580:18:123","parameters":{"id":67526,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67525,"mutability":"mutable","name":"_reward","nameLocation":"5607:7:123","nodeType":"VariableDeclaration","scope":67599,"src":"5599:15:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67524,"name":"uint256","nodeType":"ElementaryTypeName","src":"5599:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5598:17:123"},"returnParameters":{"id":67529,"nodeType":"ParameterList","parameters":[],"src":"5633:0:123"},"scope":67635,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":67612,"nodeType":"FunctionDefinition","src":"6639:115:123","nodes":[],"body":{"id":67611,"nodeType":"Block","src":"6709:45:123","nodes":[],"statements":[{"expression":{"baseExpression":{"id":67607,"name":"stakedBalances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67213,"src":"6726:14:123","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":67609,"indexExpression":{"id":67608,"name":"_user","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67602,"src":"6741:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6726:21:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":67606,"id":67610,"nodeType":"Return","src":"6719:28:123"}]},"documentation":{"id":67600,"nodeType":"StructuredDocumentation","src":"6459:175:123","text":" @notice Returns the originally staked amount of OKS for a user.\n @param _user The address of the staker.\n @return The originally staked amount of OKS."},"functionSelector":"60217267","implemented":true,"kind":"function","modifiers":[],"name":"stakedBalance","nameLocation":"6648:13:123","parameters":{"id":67603,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67602,"mutability":"mutable","name":"_user","nameLocation":"6670:5:123","nodeType":"VariableDeclaration","scope":67612,"src":"6662:13:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":67601,"name":"address","nodeType":"ElementaryTypeName","src":"6662:7:123","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6661:15:123"},"returnParameters":{"id":67606,"nodeType":"ParameterList","parameters":[{"constant":false,"id":67605,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":67612,"src":"6700:7:123","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":67604,"name":"uint256","nodeType":"ElementaryTypeName","src":"6700:7:123","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6699:9:123"},"scope":67635,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":67634,"nodeType":"ModifierDefinition","src":"6856:147:123","nodes":[],"body":{"id":67633,"nodeType":"Block","src":"6877:126:123","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":67626,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":67618,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":67615,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6891:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6895:6:123","memberName":"sender","nodeType":"MemberAccess","src":"6891:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":67617,"name":"vault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67195,"src":"6905:5:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6891:19:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":67625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":67619,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"6914:3:123","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":67620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6918:6:123","memberName":"sender","nodeType":"MemberAccess","src":"6914:10:123","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"id":67623,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6936:4:123","typeDescriptions":{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_Staking_$67635","typeString":"contract Staking"}],"id":67622,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6928:7:123","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":67621,"name":"address","nodeType":"ElementaryTypeName","src":"6928:7:123","typeDescriptions":{}}},"id":67624,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6928:13:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6914:27:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6891:50:123","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":67631,"nodeType":"IfStatement","src":"6887:99:123","trueBody":{"id":67630,"nodeType":"Block","src":"6943:43:123","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":67627,"name":"OnlyVault","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67236,"src":"6964:9:123","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":67628,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6964:11:123","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":67629,"nodeType":"RevertStatement","src":"6957:18:123"}]}},{"id":67632,"nodeType":"PlaceholderStatement","src":"6995:1:123"}]},"documentation":{"id":67613,"nodeType":"StructuredDocumentation","src":"6760:91:123","text":" @notice Modifier to restrict access to the vault or the contract itself."},"name":"onlyVault","nameLocation":"6865:9:123","parameters":{"id":67614,"nodeType":"ParameterList","parameters":[],"src":"6874:2:123"},"virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Staking","contractDependencies":[],"contractKind":"contract","documentation":{"id":67169,"nodeType":"StructuredDocumentation","src":"435:91:123","text":" @title Staking\n @notice A contract for staking OKS tokens and earning rewards."},"fullyImplemented":true,"linearizedBaseContracts":[67635],"name":"Staking","nameLocation":"536:7:123","scope":67636,"usedErrors":[41857,67226,67228,67232,67234,67236,67238,67240,67242],"usedEvents":[67248,67254,67258]}],"license":"MIT"},"id":123}